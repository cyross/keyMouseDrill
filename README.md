# keyMouseDrill

キーマウ練習台 v0.0.1

(C)2022 Cyross Makoto

## 対象機種

Windows(x64)

## 本アプリケーションについて

このアプリケーションは、ゲームのキーマウ操作がプレイヤーの思った通りに動作するか確認するためのアプリです。

予め操作の「シナリオ」を作成し、プレイヤーの操作がそのシナリオ通りに動いているかをチェックできます。
「キーを同時押ししているつもりでしていなかった」ときの改善に役立ちます。

本アプリを使用して、ゲームプレイ品質の向上に役立てれば幸いです。
あ、もちろん、ゲーム品質と言っても、死体撃ちをしなくなるとか、暴言を吐かなくなるとか、チームワークを守らないなどの無秩序キッズプレイについては…知らんがな！

## 本アプリケーションの機能

1. キーの操作を監視して、操作がシナリオ通りに動いているかどうかを判定
2. キーの操作は「押す」「離す」「キープ」の3種類を監視可能
3. 同時に押すキーの指定も可能
4. 「◯キーを押しているときに✕キーを押す」「△キーを離してから◯キーを押す」など、複雑な操作にも対応
5. 「シナリオから外れたときに終了」「一旦最後までシナリオを進めて最終的に採点」を選択可能
6. 間違った押したキーを指摘する機能を追加
7. キーボードとマウス、Padに対応
8. キー操作の履歴機能により、キー操作の確認が可能
9. シナリオはYAML形式のため、自由な追加が可能

## 本アプリの対応範囲

1. キーボード
   1. アルファベットキー
   2. システムキー
      1. Space
      2. Enter
      3. Shift
      4. Ctrl
      5. F1 - F12
      6. ESC
      7. Tab
      8. CAPS
      9. Alt
   3. テンキー
2. マウス
   1. 左ボタン
   2. 右ボタン
   3. マウスホイール(上下)
   4. チルトホイール
   5. 割当ボタン(キーボードのキーを割り当てているときのみ)
3. Pad
   1. 方向キー
   2. アナログスティック
   3. 各ボタン
   4. DUALSHOCK4のタッチパッドボタン

## 本アプリでできないこと

1. マウスの移動距離監視
2. 日本語以外のキーボードのサポート
3. 一部のキーボードのボタンサポート
   1. 変換
   2. カタカナ／ひらがな
   3. アンダースコアキー
   4. .etc
4. DUALSHOCK4の各種機能
   1. タッチパッドでのタッチ操作
   2. ジャイロ
   3. SHAREボタン

## ビルドする際に必要な設定

### 開発しているUnityのバージョン

- Unity2022.1.31f

### 固定する設定

- スクリプティングバックエンドは「Mono」
- API互換レベルは「.NET Standard 2.1」

### System.Windows.Forms.dllのコピー

UnityのインストールパスからSystem.Windows.Forms.dllをコピーする必要があります。
(流石にそのままリポジトリに入れるとライセンスの問題があると想定したため)

コピー元：(Unityのインストールフォルダ)/Editor/Data/MonoBleedingEdge/lib/mono/net_4_x-win32/
コピー先：プロジェクトのAssetsフォルダ直下

## 使用している追加パッケージ

以下のパッケージをインストールしていますが、ともにMITライセンスでの配布のため、本パッケージに含めています。

### NuGetForUnity

<https://github.com/GlitchEnzo/NuGetForUnity>

Unity上でNuGetパッケージを管理できる素晴らしいパッケージです。
後述のYamlDotNetの最新版をピックするために使用しています。

### YamlDotNet

<https://github.com/aaubry/YamlDotNet>

YAMLをC#でシリアライズ出来る頼もしい存在です。
キーマウ押下のシナリオを記述するために使用しています。
Unityアセットストアにあるものよりも新しいため、NuGetパッケージ版を使用しています。

## 参考文献

- [UnityでOpenFileDialog（外部ファイルの読み込み）](https://qiita.com/koukiwf/items/47b05e3df41928959ff9)
- [[Unity] OpenFileDialogをWindowsアプリ(exe)で使う](https://qiita.com/otochan/items/0f20fad94467bb2c2572)
- [C#でUTF8の文字列を変換](https://hacknote.jp/archives/18350/)

## ライセンス

本プログラムのライセンスは、MITライセンスを適応しています。
ただし、フォントファイル((Assets)/Japanese_Fonts_Pack, (Assets)/Japanese_Fonts_Pack2以下のファイル)につきましては、各フォントのライセンスに従うよう、よろしくお願いいたします。
各フォントのライセンスは先述のディレクトリ内ににあるREADME.txtとOFL.txtをご参照ください。

## 連絡先

Twitter: @cyross4vocaloid
